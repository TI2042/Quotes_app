{% extends 'quotes/base.html' %}

{% block content %}
<div class="max-w-xl mx-auto bg-white p-6 rounded shadow">
    <h2 class="text-xl font-bold mb-4">Добавить цитату</h2>

    {% if form.non_field_errors %}
    <div class="mb-4 text-red-600 text-sm">
        {% for error in form.non_field_errors %}
        <p>{{ error }}</p>
        {% endfor %}
    </div>
    {% endif %}
    <form method="post">
        {% csrf_token %}

        <div class="mb-4">
            <label for="{{ form.text.id_for_label }}" class="block mb-1 font-medium">Текст цитаты:</label>
            <textarea id="{{ form.text.id_for_label }}" name="{{ form.text.html_name }}" rows="4"
                      class="w-full border-gray-300 rounded px-3 py-2 border focus:outline-none focus:ring focus:border-blue-300"
                      required>{{ form.text.value|default_if_none:'' }}</textarea>
            {% if form.text.errors %}
            <p class="text-red-500 text-sm">{{ form.text.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="mb-4">
            <label for="{{ form.source.id_for_label }}" class="block mb-1 font-medium">Источник:</label>
            <input type="text" id="{{ form.source.id_for_label }}" name="{{ form.source.html_name }}"
                   value="{{ form.source.value|default_if_none:'' }}"
                   class="w-full border-gray-300 rounded px-3 py-2 border focus:outline-none focus:ring focus:border-blue-300"
                   required>
            {% if form.source.errors %}
            <p class="text-red-500 text-sm">{{ form.source.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="mb-4">
            <label for="{{ form.weight.id_for_label }}" class="block mb-1 font-medium">Вес:</label>
            <input type="number" id="{{ form.weight.id_for_label }}" name="{{ form.weight.html_name }}"
                   value="{{ form.weight.value|default_if_none:'' }}"
                   class="w-full border-gray-300 rounded px-3 py-2 border focus:outline-none focus:ring focus:border-blue-300"
                   min="0" step="any" required>
            {% if form.weight.errors %}
            <p class="text-red-500 text-sm">{{ form.weight.errors.0 }}</p>
            {% endif %}
        </div>

        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
            Сохранить
        </button>
    </form>
</div>
{% endblock %}